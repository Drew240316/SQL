Window functions to rank within a group (partition)
If there is the same value, give the same rank
The order after the tie is skipped by one step.


| Value | RANK()                   |
| --- | ------------------------ |
| 100 | 1                        |
| 90  | 2                        |
| 90  | 2                        |
| 80  | 4 ← 3 None (2 people tied) |






★ grammar


RANK() OVER(
  [PARTITION BY Column]
  ORDER BY Sort by
)


★ example
Find the maximum price by partition


SELECT CATEGORY, PRICE, PRODUCT_NAME
FROM (
    SELECT
        CATEGORY,
        PRICE,
        PRODUCT_NAME,
        RANK() OVER (PARTITION BY CATEGORY ORDER BY PRICE DESC) AS RK
    FROM FOOD_PRODUCT
) T
WHERE RK = 1;  -- 순위 1만 가져오겠따는 뜻
